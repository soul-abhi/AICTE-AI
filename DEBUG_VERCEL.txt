VERCEL DEPLOYMENT DEBUGGING GUIDE

YOUR APP IS RUNNING LOCALLY! ✅
- Backend: http://localhost:5000
- Frontend: http://localhost:5173
- MongoDB: Connected ✅

IF LOGIN STILL DOESN'T WORK ON VERCEL, HERE'S WHY:

==============================================
PROBLEM 1: ENVIRONMENT VARIABLES NOT SET
==============================================

Go to Vercel Dashboard:
1. Open: https://vercel.com
2. Click your project name
3. Go to: Settings → Environment Variables

YOU MUST HAVE THESE 6 VARIABLES:

1. MONGODB_URI
   Value from server/.env: mongodb+srv://abhishek9837:...
   
2. JWT_SECRET
   Value from server/.env: super-secret-dev-key
   
3. HUGGINGFACE_API_URL
   Value: https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.2
   
4. HUGGINGFACE_API_KEY
   Value from server/.env: hf_...
   
5. NODE_ENV
   Value: production
   
6. CLIENT_ORIGIN
   Value: *

IMPORTANT: Check ALL 3 boxes for each:
☑ Production
☑ Preview  
☑ Development

AFTER ADDING, YOU MUST REDEPLOY!

==============================================
PROBLEM 2: MONGODB BLOCKING VERCEL SERVERS
==============================================

Go to MongoDB Atlas:
1. Open: https://cloud.mongodb.com
2. Login
3. Click: Network Access (left sidebar)
4. Click: Add IP Address
5. Click: ALLOW ACCESS FROM ANYWHERE
6. Confirm IP: 0.0.0.0/0
7. Click: Confirm

Wait 1 minute for changes to apply.

==============================================
PROBLEM 3: DIDN'T REDEPLOY AFTER CHANGES
==============================================

After adding environment variables OR MongoDB whitelist:

1. Vercel Dashboard → Deployments tab
2. Click "..." on the latest deployment
3. Click "Redeploy"
4. Wait 2-3 minutes

Environment variables ONLY apply to NEW deployments!

==============================================
HOW TO CHECK WHAT'S WRONG
==============================================

1. OPEN YOUR VERCEL APP IN BROWSER
2. PRESS F12 (Developer Tools)
3. GO TO "CONSOLE" TAB
4. TRY TO LOGIN
5. LOOK FOR ERRORS (in red)

COMMON ERRORS:

"Network Error" or "Failed to fetch"
→ Backend not running on Vercel
→ Check Vercel Functions tab for errors

"500 Internal Server Error"
→ Environment variables missing
→ MongoDB connection failed
→ Check Vercel Functions tab logs

"Cannot POST /api/auth/login"
→ Backend route not working
→ Check vercel.json routes configuration

"MongooseServerSelectionError"
→ MongoDB whitelist issue
→ Go add 0.0.0.0/0 to MongoDB Network Access

==============================================
CHECK VERCEL FUNCTION LOGS
==============================================

1. Vercel Dashboard → Functions tab
2. Look for your latest request
3. Click to expand
4. Read the error message

This tells you EXACTLY what's wrong!

==============================================
QUICK TEST CHECKLIST
==============================================

On Vercel Dashboard, verify:

□ Project imported from GitHub
□ Build Command: npm run vercel-build
□ Output Directory: client/dist
□ 6 environment variables added
□ All variables checked for Production/Preview/Development
□ Redeployed after adding variables
□ MongoDB whitelist has 0.0.0.0/0
□ Latest deployment shows "Ready" status

If ALL checked:
□ Open your Vercel URL
□ Open F12 Console
□ Try to register
□ Check for error messages

==============================================
STILL NOT WORKING?
==============================================

Send me:
1. Error message from browser Console (F12)
2. Error from Vercel Functions tab
3. Screenshot of your Environment Variables page

I'll help you fix it immediately!

==============================================
